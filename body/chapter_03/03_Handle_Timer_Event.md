<div id="sect_title_img_3_3"></div>

<div id="sect_title_text"></div>

# タイマのイベントを扱う

<div id="preface"></div>

###### [3-1節](../01_Handle_Mouse_Click_Event.md) と [3-2節](../02_Handle_Keyboard_Event.md) でユーザからの入力イベントを扱いましたが、アドオンでは他にもタイマを設定してある時間が経過した時にイベントを発生させることができます。本節では、タイマから発生するイベントを扱う方法を紹介します。

## 作成するアドオンの仕様

* *3Dビュー* エリアのプロパティパネルの *作業時間計測* から、作業時間計測モードを開始/終了するためのボタンを配置する
* 作業時間計測モードでは、オブジェクトごとの *オブジェクトモード* と *エディットモード* の時間を計測し、*3Dビュー* エリアのプロパティパネルの *作業時間計測* に表示する


## アドオンを作成する

[1-5節](../chapter_01/05_Install_own_Add-on.md) を参考にして以下のソースコードを入力し、ファイル名を ```sample_3-3.py``` として保存してください。


[import](../../sample/src/chapter_03/sample_3-3.py)

## アドオンを使用する

### アドオンを有効化する

[1-5節](../chapter_01/05_Install_own_Add-on.md) を参考に、作成したアドオンを有効化するとコンソールウィンドウに以下の文字列が出力されます。

```sh
サンプル3-3: アドオン「サンプル3-3」が有効化されました。
```

<div id="sidebyside"></div>

|また、プロパティパネルの *作業時間計測* にボタンが配置されます。||
|---|---|


### アドオンの機能を使用する

<div id="process_title"></div>

##### Work

<div id="process"></div>

|<div id="box">1</div>|||
|---|---|---|



<div id="process_sep"></div>

---


<div id="process_start_end"></div>

---


### アドオンを無効化する

[1-5節](../chapter_01/05_Install_own_Add-on.md) を参考に有効化したアドオンを無効化すると、コンソールウィンドウに以下の文字列が出力されます。

```sh
サンプル3-3: アドオン「サンプル3-3」が無効化されました。
```


## ソースコードの解説

変数名などの細かい部分が異なるところはありますが、オペレータクラスの ```modal()``` メソッドの処理を除いて [3-1節](01_Handle_Mouse_Click_Event.md) の内容とほとんど同じです。このため本節では、オペレータクラス ```SpecialObjectEditMode``` の ```modal()``` メソッドの処理内容について説明します。

### modal()メソッド

```modal()``` メソッドの最初の処理である、*3Dビュー* エリアの更新処理までは [3-1節](01_Handle_Mouse_Click_Event.md) と同様です。

#### モーダルモード終了処理


## まとめ




<div id="point"></div>

### ポイント

<div id="point_item"></div>

*
