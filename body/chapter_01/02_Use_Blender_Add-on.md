# 1-2. Blenderアドオンを使ってみよう

Blenderアドオンの開発の説明に入る前に他の方が開発したアドオンを使い、開発に必要なアドオンのインストール・有効/無効化の手順を説明します。  
ここで紹介する手順は今後アドオンを開発する際に何度も行うことになるので、必ず覚えておきましょう。

## Blenderの日本語化

Blenderは海外で開発されたソフトであるため、Blenderを初めて起動した時のUIは全て英語です。
このため、Blenderの利用する敷居が高いと感じてしまう方もいると思いますが、幸いなことにBlenderは公式で日本語をサポートしています。
英語でも難なく使える方であればそのままで良いですが、英語では敷居が高いと言う人のためにBlenderを日本語化する方法を紹介します。
なお、 **本書では日本語化されていることを前提として解説します** ので、不安な方は日本語化してしまいましょう。

① *Info* エリアのメニューから *File* > *User Preferences...* を実行してください。

![アドオンの日本語化 手順1](https://dl.dropboxusercontent.com/s/8xx2l59wy2d7c8y/localizing_into_japanese_1.png "アドオン日本語化 手順1")

② *Blender User Preferences* ウィンドウが立ち上がりますので、 *System* タブを選択してください。

③ *International Fonts* にチェックを入れると、Blenderの言語を変更することができるようになります。

![アドオンの日本語化 手順2](https://dl.dropboxusercontent.com/s/6uwpij0r5riiqk3/localizing_into_japanese_2.png "アドオン日本語化 手順2")

④ *Language* を *Japanese（日本語）* に変更し、 *Translate* で日本語化したい項目を選択すると、洗濯した項目に応じて日本語化されます。

![アドオンの日本語化 手順3](https://dl.dropboxusercontent.com/s/s5mrd72si2xq910/localizing_into_japanese_3.png "アドオン日本語化 手順3")


## アドオンの種類

Blenderアドオンを使用する前に、Blenderのサポートレベルについて理解しましょう。
**アドオンのサポートレベルはアドオンの品質やメンテナンスなどの将来性を示しています。**
サポートレベルが高ければよくメンテナンスされていて品質が高い傾向にあります。
一方、サポートレベルが低いアドオンではとメンテナンスがおろそかな傾向がなり、正しく動作しないまま放置されているアドオンも見られます。
しかしサポートレベルが低くても非常に有用なアドオンはたくさんあります。
問題が起きてもいろんなアドオンを使いたい方はサポートレベルを気にせず使えばよく、安定した動作をするアドオンのみ使いた方であればサポートレベルが高いものだけを使用するのがよいと思います。

サポートレベルは、以下の3段階から構成されます。

|サポートレベル|説明|
|---|---|
|Release|Blenderが公式にサポートするアドオンで、Blender本体と共に提供されます。アドオンの公開や更新の度に厳密にレビュー（審査）されるため、 **不具合が比較的少ない安定したアドオン** です。|
|Contrib|Blender本体には含まれませんが、テストビルドされたBlender本体と共に提供されます。サポートは各アドオン開発者が行うため、サポートレベルがReleaseであるアドオンに比べて品質が落ちます。しかしContribとして登録されるためには、Blenderコミュニティのレビューで一定の評価を得る必要があるため **一定の品質が保証され、新規性があり有用な機能を持ったアドオン** が集まっています。|
|External|サポートレベルがReleaseおよびContrib以外のアドオンで、ユーザ自らアドオンをインストールする必要があります。アドオンのレビューが行われていないため、**本サポートレベルのアドオンの利用は基本的に自己責任となります。** 作業効率化など、Blender本体の機能を補助するアドオンが多く含まれるようですが、中にはサポートレベルがReleaseやContrib以上の機能を持つアドオンも存在します。|

## アドオンのインストール

サポートレベルがReleaseであるアドオンは、Blender本体と共に提供されるためインストール作業は不要です。
また、テストビルドのBlenderを利用されている方は、サポートレベルがContribのアドオンもアドオンをインストールすることなく利用可能です。
ここでは、Blender本体を利用されている方がサポートレベルContribをインストールする場合や、サポートレベルExternalのアドオンをインストールする方法について説明します。

インストール手順を説明するあたり、筆者がアドオン開発でいつもお世話になっている **mifth** さんのアドオン **Mira Tools** をサンプルとして取り上げます。
Mira Toolsの機能は、以下のWebサイトから確認できます。

* Mita Tools - https://github.com/mifth/mifthtools/wiki/Mira-Tools

英語しかサポートしていないためで、アドオンを使う敷居がやや高くなってしまっていますが、サポートレベルがExternalのアドオンの中でも非常に高機能なアドオンですので、ぜひ1度使ってみてください。
Mira Toolsのインストール方法は前述のURLにも記載されていますが、改めてここでもインストール方法を紹介します。

① 以下のURLからmifthさんが作成したアドオン一式をダウンロードします。

* Mira Tools - https://github.com/mifth/mifthtools/archive/master.zip

② ダウンロードしたファイル *mifthtools-master.zip* を解凍します。

③ ```mifthtools-master/blender/addons/mira_tools``` がMira Tools本体です。このフォルダ一式を、 **Blenderアドオン用フォルダ** へコピーしたらインストール完了です。

以下に示すように、Blenderアドオン用フォルダはOSごとにパスが異なります。
インストール先のフォルダがない場合は、新たに作成してください。

|OS|インストール先|
|---|---|
|Windows|```C:\Users\<ユーザ名>\AppData\Roaming\Blender Foundation\Blender\<Blenderのバージョン>\scripts\addons```|
|Mac|```/Users/<ユーザ名>/Library/Application Support/Blender/<Blenderのバージョン>/scripts/addons```|
|Linux|```/home/<ユーザ名>/.config/blender/<Blenderのバージョン>/scripts/addons```|

インストール手順とは関係ありませんが、コピーしたファイルの中に拡張子が ```.py``` であるファイルがあると思います。
このファイルは **アドオンのソースコードと呼ばれ、プログラミング言語Pythonによりアドオンの動作が記述されたテキストファイルです。**

## アドオンの有効化

インストールしたアドオンを有効化して、アドオンの機能を使えるようにしましょう。
サポートレベルがRelease、Contrib、Externalのいずれのアドオンについても、これから紹介する共通の方法で有効化できます。
以下の手順に従い、先ほどインストールしたMira Toolsを有効化しましょう。

① Blenderを起動します。

② *情報* エリアのメニューから、 *ファイル* > *ユーザ設定* を選択してください。

![アドオンの有効化 手順1](https://dl.dropboxusercontent.com/s/9it3p8rth2heyqi/enable_add-on_1.png "アドオンの有効化 手順1")

③ *Blenderユーザ設定* ウィンドウが別ウィンドウで開くので、 *アドオン* タブを選択してください。

④ 検索窓に *mira tools* を入力します。

⑤ ウィンドウ右側に *Mira Tools** が表示されるので、チェックボックスにチェックを入れるとアドオンが有効化されます。

![アドオンの有効化 手順2](https://dl.dropboxusercontent.com/s/k4xq9zyhk0hbivp/enable_add-on_2.png "アドオンの有効化 手順2")

⑥ 実際にアドオンが有効化されているかどうかは、 *3Dビュー* エリアの左側の *ツールシェルフ* のタブに *Mira* が追加されていることで確認できます。

![アドオンの有効化 手順3](https://dl.dropboxusercontent.com/s/qqvxodqbs67yy45/enable_add-on_3.png "アドオンの有効化 手順3")

*Mira Tools* の使い方をここで紹介するのは本書の範囲を超えてしまうので、ここでは説明しません。
興味のある方は以下のページから確認してください。

* Mita Tools - https://github.com/mifth/mifthtools/wiki/Mira-Tools

## アドオンの無効化

次にアドオンを無効化する方法を示します。
紹介する手順は、 サポートレベルがRelease・Contrib・Externalのいずれについても共通の方法で無効化できます。
以下の手順で先ほど有効化したMira Toolsを無効化します。

① アドオンを有効化した時と同様、 *Blenderユーザ設定* ウィンドウを開いてください。

② *アドオン* タブを選択し、 *Mira Tools* のチェックボックスのチェックを外すことでアドオンが無効化されます。

![アドオンの無効化](https://dl.dropboxusercontent.com/s/t15vvgofl5gs50d/disable_add-on.png "アドオンの無効化")


## アドオンのアンインストール

インストールしたアドオンをアンインストールする方法は、以下の2通りがあります。

* アドオンのソースコードを直接削除
* *Blenderユーザ設定* ウィンドウからアンインストール

ここでは先ほどインストールした *Mira Tools* をアンインストールします。

### アドオンのソースコードを直接削除する方法

アドオンのインストール先からアドオンのソースコードを直接削除して、アドオンをアンインストールする手順を説明します。

アドオンのソースコードの場所が分からない場合は、 *Blenderユーザ設定* ウィンドウの *アドオン* タブから確認することができます。
アドオン名の隣にある左の矢印をクリックして *Mira Tools* の詳細情報を確認してみましょう。
詳細情報の *ファイル* がアドオンのソースコードが置かれた場所を示しています。

![アドオンの詳細情報を表示](https://dl.dropboxusercontent.com/s/7onrbdzxctp4uqw/show_add-on_detail.png "アドオンの詳細情報を表示")

この時注意が必要であるのは、アドオンのソースコードが複数のファイルで構成される場合と、単一のファイルで構成される場合で削除するファイルが異なることです。

もし詳細情報の *ファイル* に書かれているファイル名が ```__init__.py``` である場合は、アドオンのソースコードが複数のファイルで構成されています。
複数のファイルで構成されている場合は、 ```__init__.py``` が置かれているディレクトリごと削除することでアンインストールが完了します。

もし ```__init__.py``` 以外であれば単一ファイルで構成されているので、詳細情報の *ファイル* に示されたファイルを削除すれば、アンインストールが完了したことになります。

### Blenderユーザ設定からアンインストールする方法

アドオンの別のアンインストール方法として、 *Blenderユーザ設定* ウィンドウからアンインストールする方法を紹介します。
*Blenderユーザ設定* ウィンドウの **アドオン** タブを選択し、**Mira Tools** の左の矢印をクリックして詳細情報を開きます。
**削除** ボタンをクリックすることで、アンインストールすることができます。

![アドオンのアンインストール](https://dl.dropboxusercontent.com/s/0hkgrg49n0kh880/uninstall_add-on.png "アドオンのアンインストール")

## まとめ

### ポイント
