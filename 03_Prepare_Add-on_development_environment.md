# 3. アドオン開発環境を整えよう

ここではアドオンを効率良く開発するための環境を紹介します。

## Blenderの日本語化

Blenderは公式で日本語をサポートしています。
英語では敷居が高いと感じてしまう方もいらっしゃると思いますので、Blenderを日本語化します。
日本語化を以下の手順で行います。



以降の説明では、Blenderが日本語化された状態を想定します。

## Blenderの画面設定

Blenderをダウンロードした直後のBlenderの起動画面は、以下のような画面になっていると思います。
このままでもアドオン開発は可能ですが、以下のようにアドオンを開発しやすい環境にすることをお勧めします。

なおここで示している設定は、あくまで筆者の好みがそのまま反映されているため、
各自作業しやすい環境にしていただいて構いません。

### コンソール・ウィンドウの表示

Blenderにはデバッグ用に **コンソール・ウィンドウ** と呼ばれる機能が備わっています。
コンソール・ウィンドウとは、アドオンの実行結果やエラーを表示するためのもので、起動直後は非表示になっています。
コンソール・ウィンドウを表示させるためには、メニューバーの左下を下に向かってドラッグ＆ドロップする必要があります。

アドオンを開発する際に大変お世話になる機能ですので、アドオン開発中は常にコンソール・ウィンドウを
表示させておきましょう。

### ウィンドウの分割

過去にBlenderを使ったことのある人であればご存知かと思いますが、Blenderはアプリケーション内で
複数のウィンドウに分割することができます。
この機能を用いて、以下のようにウィンドウを分割してみましょう。

分割したウィンドウの表示は全て **3Dビュー** になっていると思います。

### ウィンドウ表示の変更

ウィンドウの分割が完了したら、各ウィンドウの表示を変更しましょう。
ウィンドウの表示の変更は、各ウィンドウのメニューバーの一番左のボタンから行うことができます。
最初に左下のウィンドウ表示を3Dビューから **テキストエディター** に変更しましょう。

続いて、左上のウィンドウ表示を3Dビューから **Pythonコンソール** に変更しましょう。

## テキストエディタ

アドオンの開発は基本的にテキストを編集する作業になるため、テキストを編集する環境が整って
いれば良いです。
そのため、最低限Blender本体のプログラムと各OSに標準で付随しているテキスト編集ソフトがあれば
開発を始めることができます。
しかし、各OSに標準で付随しているテキスト編集ソフトは機能が限定的であるため、
アドオン開発向けのエディタを導入した方が良いでしょう。
ちなみに筆者は、アドオンの開発等のソースコード編集はVim、READMEなど文章を時はAtomを利用しています。

### Blender付随のテキストエディタ

Blender本体にテキストエディタが付随しているのはご存知でしょうか？
Blenderはアドオンの開発者のために、本体にテキストエディタが付随しています。
テキストエディタの起動の仕方は非常にシンプルで、各ウィンドウのメニューバーの一番左のボタン
から、 **テキストエディター** を選ぶだけです。

Blender付随のテキストエディタには、テキストエディタで開いているアドオンをそのまま実行できるという、
他のテキストエディタにはない利点があります。
本署では、Blender付随のテキストエディタを用いて解説していきます。

### Vim

詳しく書くとemacsとのエディタ論争に巻き込まれそうなので、簡単に紹介します。
VimはEmacsと共に、Unix/Linuxでよく利用されるエディタの1つで、*コマンドモード* と *入力モード*
を備えたエディタです。
**gVim** と呼ばれるWindows版のVimも存在するため、一度使い方に慣れてしまえば、Windowsに限らず
Mac/Linuxでもエディタの使い方を勉強する必要がありません。
なお、有志によってVimを使いやすくするための記事がインターネット上にはたくさんあるため、
使いにくい部分があったらググってみると良いかもしれません。

### Emacs

Vimと共に、Unix/Linuxでよく利用されるエディタです。
こちらもWindows版が用意されているため、一度使い方に慣れてしまえば、Windows以外のOSを利用した時に、
エディタの使い方を勉強する必要がありません。
Vimと同様ユーザが多いエディタのため、Emacsを使いやすくするための記事がインターネットにたくさんあります。

### その他のエディタ

上にあげたエディタ以外にも様々なエディタがありますので、自分にあったエディタを選ぶと良いでしょう。
他のエディタとしては例えば以下のようなものがあります。

* Atom *(Windows/Mac/Linux)*
* 秀丸 *(Windows)*
* Terapad *(Windows)*
* nano *(Mac/Linux)*
* SublimeText *()*

## アドオン開発時のBlenderの起動方法

Blenderを起動させる時は、アプリケーションのアイコン（Windowsなら```Blender.exe```）をダブルクリックして
起動することが多いと思います。
しかしアドオン開発時にこの方法で起動してしまうとデバッグしにくくなるため、
アドオン開発時は **コンソールからBlenderを起動する** することをお勧めします。
コンソールから起動する方法を以下に示します。
本署では、コンソールからBlenderを起動することを前提として説明します。

### Windowsの場合

### Macの場合

1. **ターミナル** を起動します。
2. 以下のコマンドを実行します。（Blender.appが置かれているパスが ```/path/Blender.app```であると仮定します。）
```
$ /path/blender.app/Contents/MacOS/blender
```
3. Blenderが起動します。

### Linuxの場合

1. **ターミナル** を起動します。
